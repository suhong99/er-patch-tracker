# 시즌 분류 날짜 보정

## 작업 정보

- **브랜치**: feature/53
- **상태**: 완료
- **날짜**: 2026-01-27

## 문제

패치노트 날짜가 실제 적용일이 아닌 작성일로 저장되어 있어서 시즌 경계에서 잘못 분류되는 문제.

### 예시

- 시즌 10 시작일: 2026-01-22
- 시즌 10 첫 패치노트 작성일: 2026-01-21 (적용은 다음날)
- 현재: S9로 잘못 분류됨
- 기대: S10으로 분류되어야 함

### 왜 날짜를 일괄 수정하지 않는가?

- 핫픽스: 당일 적용 (날짜 = 적용일)
- 일반 패치: 다음날 적용 (날짜 = 작성일)
- 혼재되어 있어서 일괄 수정 불가

## 해결 방안

`getSeasonByDate()` 함수에서 시즌 시작일을 1일 앞당겨서 비교

```typescript
// AS-IS
if (patchDate >= season.startDate) {
  return season;
}

// TO-BE
const adjustedStartDate = new Date(season.startDate);
adjustedStartDate.setDate(adjustedStartDate.getDate() - 1);
const adjustedStartDateStr = adjustedStartDate.toISOString().slice(0, 10);

if (patchDate >= adjustedStartDateStr) {
  return season;
}
```

### 영향 분석

- 시즌 경계 패치노트: 올바른 시즌으로 분류됨
- 핫픽스: 영향 없음 (시즌 중간에 작성되므로)
- 시즌 종료일 표시: 영향 없음 (`getSeasonEndDate()`는 별도 함수)

## 수정 파일

- `src/lib/seasons.ts` - `getSeasonByDate()` 함수 수정

## 진행 상황

- [x] 문제 분석
- [x] 해결 방안 설계
- [x] 코드 수정
- [x] 빌드 테스트 통과
